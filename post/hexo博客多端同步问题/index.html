<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn" lang="zh-cn">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.74.3" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Hexo博客多端同步问题 &middot; 阿泽的博客</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="https://liuzeaa.github.io/goblog/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://liuzeaa.github.io/goblog/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://liuzeaa.github.io/goblog/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://liuzeaa.github.io/goblog/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  
</head>

  <body class=" ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://liuzeaa.github.io/goblog/"><h1>阿泽的博客</h1></a>
      <p class="lead">
      An elegant open source and mobile first theme for <a href="http://hugo.spf13.com">hugo</a> made by <a href="http://twitter.com/mdo">@mdo</a>. Originally made for Jekyll.
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://liuzeaa.github.io/goblog/">Home</a> </li>
        
      </ul>
    </nav>

    <p>&copy; 2020. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1>Hexo博客多端同步问题</h1>
  <time datetime=2017-12-29T16:38:22Z class="post-date">Fri, Dec 29, 2017</time>
  <p>搭完博客，发现只有公司电脑上有源文件，如果回家就没发继续更新博客了。也不能拿着U盘到处拷贝。所以就把博客源文件放到github上解决同步问题。</p>
<h2 id="博客源文件同步">博客源文件同步</h2>
<p>在博客根目录执行</p>
<pre><code>  git init
  git remote add origin git@github.com:lanpangzhi/lanpangzhi.github.io.git  # 添加远程仓库 注意这里要添加你自己的仓库 lanpangzhi 换成你自己的用户名
  git checkout -b hexo   		 # 新建hexo分支并切换到hexo分支
  git add . 			 # 所有变化提交到暂存区
  git commit -m &quot;解决同步问题&quot;  # 提交文件
  git push origin hexo   # 推送hexo分支

</code></pre><p>这就成功了，github上已经有博客的源文件了。</p>
<p><img src="http://hexo-1252491761.file.myqcloud.com/Hexo%E5%8D%9A%E5%AE%A2%E5%A4%9A%E7%AB%AF%E5%90%8C%E6%AD%A5%E9%97%AE%E9%A2%98/20171229170524.png" alt="github查看提交成功"></p>
<p>推荐把hexo设置为默认分支。</p>
<p><img src="http://hexo-1252491761.file.myqcloud.com/Hexo%E5%8D%9A%E5%AE%A2%E5%A4%9A%E7%AB%AF%E5%90%8C%E6%AD%A5%E9%97%AE%E9%A2%98/20171229170951.png" alt="hexo设置为默认分支"></p>
<h2 id="git-submodule-实现第三方主题同步">git submodule 实现第三方主题同步</h2>
<p>因为之前是直接把第三方主题克隆到博客目录，有什么改动是无法推送到作者Git仓库的，这个时候需要把第三方主题的项目Fork到自己仓库，自己账号下生成一个同名的仓库，并对应一个url，我们应该git clone自己账号下仓库的url。
<img src="http://hexo-1252491761.file.myqcloud.com/Hexo%E5%8D%9A%E5%AE%A2%E5%A4%9A%E7%AB%AF%E5%90%8C%E6%AD%A5%E9%97%AE%E9%A2%98/20171229172902.png" alt="Fork第三方主题"></p>
<p>执行如下操作。</p>
<pre><code>	git submodule add git@github.com:lanpangzhi/hexo-theme-next.git themes/next 
</code></pre><p>把自己仓库下面第三方主题添加到Git子模块， <strong>注 : themes/next 这里的目录是因为我用的next主题才会写themes/next  如果你用的不是next请把next替换成你的第三方主题文件夹名字。</strong></p>
<p>博客的根目录会多一个.gitmodules文件,这是一个配置文件，保存了项目 URL 和你拉取到的本地子目录。
<img src="http://hexo-1252491761.file.myqcloud.com/Hexo%E5%8D%9A%E5%AE%A2%E5%A4%9A%E7%AB%AF%E5%90%8C%E6%AD%A5%E9%97%AE%E9%A2%98/20171229174101.png" alt=".gitmodules文件"></p>
<p>这就添加成功了，然后执行如下操作。</p>
<pre><code>  git add . 			 # 所有变化提交到暂存区
  git commit -m &quot;添加第三方主题Git子模块&quot;  # 提交文件
  git push origin hexo   # 推送hexo分支
</code></pre><h2 id="更换电脑同步博客和第三方主题">更换电脑同步博客和第三方主题</h2>
<h3 id="同步博客">同步博客</h3>
<p>电脑上一定要先node和git，执行如下操作。</p>
<pre><code>	npm install hexo-cli -g  # 先安装hexo的脚手架
	git clone git@github.com:lanpangzhi/lanpangzhi.github.io.git  # 下载项目，因为hexo 是默认分支，所以这里直接会下载hexo分支
	npm i # 安装依赖
	hexo s # 启动服务器
</code></pre><p>剩下的就自行操作了。博客已经完成了同步。</p>
<p>注：每次写完文章部署网站后，记得再执行如下操作。</p>
<pre><code>  git add . 			# 所有变化提交到暂存区
  git commit -m &quot;新增xxx文章&quot;  	# 提交文件
  git push origin hexo   		# 推送hexo分支
</code></pre><h3 id="同步第三方主题">同步第三方主题</h3>
<p>在博客根目录执行如下操作。</p>
<pre><code>  git submodule init	# 初始化本地配置文件
  git submodule update    # 拉取子模块
</code></pre><p>如果第三方主题有修改的，修改完成后在第三方主题目录执行。</p>
<pre><code>  git add . 			# 所有变化提交到暂存区
  git commit -m &quot;修改主题xxxx&quot;  	# 提交文件
  git push origin master   	# 推送master分支
</code></pre><p>这样就会把修改的主题推送到自己的仓库。
<img src="http://hexo-1252491761.file.myqcloud.com/Hexo%E5%8D%9A%E5%AE%A2%E5%A4%9A%E7%AB%AF%E5%90%8C%E6%AD%A5%E9%97%AE%E9%A2%98/20171229175442.png" alt="修改的主题推送到自己的仓库"></p>
<p>这样就实现多端同步了。</p>
<h2 id="参考">参考</h2>
<p><a href="http://devtian.me/2015/03/17/blog-sync-solution">http://devtian.me/2015/03/17/blog-sync-solution</a>
<a href="https://git-scm.com/book/zh/v1/Git-%E5%B7%A5%E5%85%B7-%E5%AD%90%E6%A8%A1%E5%9D%97">https://git-scm.com/book/zh/v1/Git-%E5%B7%A5%E5%85%B7-%E5%AD%90%E6%A8%A1%E5%9D%97</a></p>
</div>


    </main>

    
      
    
  </body>
</html>
