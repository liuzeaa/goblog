<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn" lang="zh-cn">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.74.3" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>webpack4.0入门指南（一）安装和转换es6语法 &middot; 阿泽的博客</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="https://liuzeaa.github.io/goblog/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://liuzeaa.github.io/goblog/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://liuzeaa.github.io/goblog/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://liuzeaa.github.io/goblog/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  
</head>

  <body class=" ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://liuzeaa.github.io/goblog/"><h1>阿泽的博客</h1></a>
      <p class="lead">
      An elegant open source and mobile first theme for <a href="http://hugo.spf13.com">hugo</a> made by <a href="http://twitter.com/mdo">@mdo</a>. Originally made for Jekyll.
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://liuzeaa.github.io/goblog/">Home</a> </li>
        
      </ul>
    </nav>

    <p>&copy; 2020. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1>webpack4.0入门指南（一）安装和转换es6语法</h1>
  <time datetime=2018-06-08T10:35:24Z class="post-date">Fri, Jun 8, 2018</time>
  <p>webpack 是一个现代 JavaScript 应用程序的静态模块打包器(module bundler)。当 webpack 处理应用程序时，它会递归地构建一个依赖关系图(dependency graph)，其中包含应用程序需要的每个模块，然后将所有这些模块打包成一个或多个 bundle。 webpack v4.0.0 开始，可以不用引入一个配置文件。</p>
<h2 id="安装">安装</h2>
<pre><code>npm install -g webpack
npm install -g webpack-cli
</code></pre><p>需要先全局安装你才可以使用webpack命令，然后再安装到你的项目依赖。
如果你使用 webpack 4+ 版本，你还需要安装 CLI。</p>
<h2 id="新建项目">新建项目</h2>
<pre><code>mkdir webpack-demo &amp;&amp; cd webpack-demo  //创建并进入webpack-demo文件夹
npm init -y   // 初始化项目package.json文件
npm install -D webpack webpack-cli  // 本地安装 webpack和webpack-cli
</code></pre><h2 id="使用默认配置去构建">使用默认配置去构建</h2>
<pre><code>mkdir demo1 &amp;&amp; cd demo1
touch index.html
mkdir src &amp;&amp; cd src
touch index.js
</code></pre><p>index.html</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
  &lt;title&gt;Document&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  
  &lt;!--  webpack会把src/index.js文件打包到dist目录mian.js --&gt;
  &lt;script src=&quot;./dist/main.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><p>src/index.js</p>
<pre><code>let a = 1;
alert(a);
</code></pre><p>执行 webpack 命令。就可以看到文件被打包到dist文件夹了。打开index.html文件就会弹出1。
webpack4.0可以不用写配置文件，然而大多数项目会需要很复杂的设置，需要你自己去配置。</p>
<h2 id="使用配置文件">使用配置文件</h2>
<pre><code>cd .. // 返回到webpack-demo文件夹
touch webpack.config.js  // 创建配置文件
touch index.html
mkdir demo2 &amp;&amp; cd demo2  // 创建demo2文件夹
mkdir src &amp;&amp; cd src
touch index.js
</code></pre><p>webpack.config.js</p>
<pre><code>const path = require('path');

module.exports = {
  entry: './src/index.js',  // 入口文件
  output: {  // 出口文件
    filename: 'bundle.js',   // 打包后命名为bundle.js
    path: path.resolve(__dirname, 'dist') // 输出的路径
  }
};
</code></pre><p>在项目的demo2目录执行webpack。如下图就代表打包成功。打开demo2下面的index.html 就可以弹出我的博客地址。
<img src="http://hexo-1252491761.file.myqcloud.com/webpack4.0%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/QQ%E5%9B%BE%E7%89%8720180608132222.png" alt=""></p>
<h2 id="使用babel转换es6语法--es5">使用babel转换es6语法 =&gt; es5</h2>
<h3 id="安装babel">安装babel</h3>
<p>在webpack-demo路径下执行命令</p>
<pre><code>npm install --save-dev babel-loader babel-core babel-preset-env
</code></pre><p>把demo2复制一份命名为demo3，在src目录下再新建a.js。
src/a.js</p>
<pre><code>export default lanpangzhi = &quot;blog.langpz.com&quot;;
</code></pre><p>src/index.js</p>
<pre><code>import lanpz from &quot;./a.js&quot;;
console.log(lanpz);
</code></pre><p>webpack.config.js</p>
<pre><code>const path = require('path');

module.exports = {
  entry: './src/index.js',  // 入口文件
  output: {  // 出口文件
    filename: 'bundle.js',   // 打包后命名为bundle.js
    path: path.resolve(__dirname, 'dist') // 输出的路径
  },
  module: {
    rules: [
      {
        test: /\.js$/, // 匹配所有.js结尾的文件
        exclude: /node_modules/,  // 忽略node_modules文件夹
        use: {
          loader: 'babel-loader'  // 使用babel-loader转义
        }
      }
    ]
  }
};
</code></pre><p>新建 .babelrc 文件</p>
<pre><code>touch .babelrc
</code></pre><p>.babelrc</p>
<pre><code>{
  &quot;presets&quot;: [&quot;env&quot;]
}
</code></pre><p>执行webpack就可以看见打包成功了。
<img src="http://hexo-1252491761.file.myqcloud.com/webpack4.0%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/QQ%E5%9B%BE%E7%89%8720180608145725.png" alt=""></p>
<h3 id="babel-polyfill">babel-polyfill</h3>
<p>由于 Babel 只转换语法(如箭头函数)， 你可以使用 babel-polyfill 支持新的全局变量，例如 Promise 、新的原生方法如 String.padStart (left-pad) 等。
在webpack-demo路径下执行命令</p>
<pre><code>npm install --save babel-polyfill  // 安装babel-polyfill
</code></pre><p>在 webpack.config.js 中，将 babel-polyfill 加到你的 entry 数组中。</p>
<pre><code>module.exports = {
  entry: [&quot;babel-polyfill&quot;, &quot;./src/index.js&quot;]
};
</code></pre><p>执行webpack命令，如下图就成功了。
<img src="http://hexo-1252491761.file.myqcloud.com/webpack4.0%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/QQ%E5%9B%BE%E7%89%8720180608151354.png" alt=""></p>
<h1 id="demo仓库地址">demo仓库地址</h1>
<p><a href="https://github.com/lanpangzhi/webpack-demo">https://github.com/lanpangzhi/webpack-demo</a></p>
<h1 id="参考">参考</h1>
<p><a href="https://www.babeljs.cn/">https://www.babeljs.cn/</a>
<a href="https://webpack.docschina.org/">https://webpack.docschina.org/</a></p>
</div>


    </main>

    
      
    
  </body>
</html>
